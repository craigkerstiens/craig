
<!DOCTYPE HTML>
<html>
<head>
	<meta name="google-site-verification" content="hKvGTVuUObK9oCHVB0Hg5jTgwRsTdGVZvpJfDJbwevY" />
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title></title>

<meta name="author" content="Craig Kerstiens"> 

<meta name="description" content="A massive amount of reporting queries, whether really intensive data analysis, or just basic insights into your business involving looking at data &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Craig Kerstiens" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Craig Kerstiens</a></h1>
<h4></h4>
<nav id="main-nav"><ul>
	<li><a href="/about/">About</a></li>
	<li><a href="/about/travel_wine.html">Travel & Wine</a></li>
	<li><a href="/recommendations">My Recommendations</a></li>
	<li><a href="/content">Top Content</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/about/">About</a></li>
	<li><a href="/about/travel_wine.html">Travel & Wine</a></li>
	<li><a href="/recommendations">My Recommendations</a></li>
	<li><a href="/content">Top Content</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:www.craigkerstiens.com">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2017/06/08/working-with-time-in-postgres/">
		
			Working With Time in Postgres</a>
	</h2>
	<div class="entry-content">
		<p>A massive amount of reporting queries, whether really intensive data analysis, or just basic insights into your business involving looking at data over a certain time period. Postgres has really rich support for dealing with time out of the box, something that&rsquo;s often very underweighted when dealing with a database. Sure, if you have a time-series database it&rsquo;s implied, but even then how flexible and friendly is it from a query perspective? With Postgres there&rsquo;s a lot of key items available to you, let&rsquo;s dig in at the things that make your life easier when querying. 
		
		<a href="/2017/06/08/working-with-time-in-postgres/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2017-06-08T00:00:00-07:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgresql/'>PostgreSQL</a>, <a class='category' href='/categories/postgres/'>Postgres,</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2017/04/30/why-postgres-five-years-later/">
		
			Why Use Postgres (Updated for Last 5 Years)</a>
	</h2>
	<div class="entry-content">
		<p>Five years ago <a href="http://www.craigkerstiens.com/2012/04/30/why-postgres/">I wrote a post</a> that got some good attention on why you should use Postgres. Almost a year later I <a href="http://www.craigkerstiens.com/2012/05/07/why-postgres-part-2/">added a bunch of things</a> I missed. Many of those items bear repeating, and I&rsquo;ll recap a few of those in the latter half of this post. But in the last 4-5 years there&rsquo;s been a lot of improvements and more reasons added to the list of why you should use Postgres. Here&rsquo;s the rundown of the things that make Postgres a great database you should consider using. 
		
		<a href="/2017/04/30/why-postgres-five-years-later/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2017-04-30T00:00:00-07:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgresql/'>PostgreSQL</a>, <a class='category' href='/categories/postgres/'>Postgres,</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2017/03/12/getting-started-with-jsonb-in-postgres/">
		
			Getting Started With JSONB in Postgres</a>
	</h2>
	<div class="entry-content">
		<p>JSONB is an awesome datatype in Postgres. I find myself using it on a weekly basis these days. Often in using some API (such as <a href="https://www.clearbit.com">clearbit</a>) I&rsquo;ll get a JSON response back, instead of parsing that out into a table structure it&rsquo;s really easy to throw it into a JSONB then query for various parts of it.</p>

<p><em>If you&rsquo;re not familiar with JSONB, it&rsquo;s a binary representation of JSON in your database. You can read a bit more about it vs. JSON <a href="https://www.citusdata.com/blog/2016/07/14/choosing-nosql-hstore-json-jsonb/">here</a>.</em></p>

<p>In working with JSONB here&rsquo;s a few quick tips to get up and running with it even faster: 
		
		<a href="/2017/03/12/getting-started-with-jsonb-in-postgres/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2017-03-12T00:00:00-08:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgresql/'>PostgreSQL</a>, <a class='category' href='/categories/postgres/'>Postgres,</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2017/01/08/simple-but-handy-postgresql-features/">
		
			Simple but Handy Postgres Features</a>
	</h2>
	<div class="entry-content">
		<p>It seems each week when I&rsquo;m reviewing data with someone a feature comes up that they had no idea existed within Postgres. In an effort to continue documenting many of the features and functionality that are useful, here&rsquo;s a list of just a few that you may find handy the next time your working with your data.</p>

<h3>Psql, and \e</h3>

<p>This one I&rsquo;ve <a href="http://www.craigkerstiens.com/2013/02/13/How-I-Work-With-Postgres/">covered before</a>, but it&rsquo;s worth restating. Psql is a great editor that already comes with Postgres. If you&rsquo;re comfortable on the CLI you should consider giving it a try. You can even setup you&rsquo;re own <code>.psqlrc</code> for it so that it&rsquo;s well customized to your liking. In particular turning <code>\timing</code> on is especially useful. But even with all sorts of customization if you&rsquo;re not aware that you can use your preferred editor by using <code>\e</code> then you&rsquo;re missing out. This will allow you to open up the last run query, edit it, saveâ€“and then it&rsquo;ll run for you. Vim, Emacs, even Sublime text works just take your pick by setting your <code>$EDITOR</code> variable.</p>


		
		<a href="/2017/01/08/simple-but-handy-postgresql-features/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2017-01-08T00:00:00-08:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgresql/'>PostgreSQL</a>, <a class='category' href='/categories/postgres/'>Postgres,</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2016/11/23/syncing-from-postgres-to-salesforce-part-1/">
		
			Syncing From Postgres to Salesforce - Data Mappings</a>
	</h2>
	<div class="entry-content">
		<p>For the second time now I&rsquo;ve had to implement a system that syncs from my system of record into Salesforce.com, the first at Heroku and now at <a href="https://www.citusdata.com">Citus Data</a>. The case here is pretty simple, I have a software-as-a-service, B2B product. It&rsquo;s a homegrown application in these cases in Ruby, but could be Python, .Net, any language of your choosing. The problem is I don&rsquo;t want to have to be rebuilding my own CRM, reporting, etc. on top of all of my internal database. And as soon as you&rsquo;re at some reasonable size (sales guy of 1 or more) you need to be able to provide insights on what&rsquo;s in that system of record database to others.</p>

<p>While my tooling isn&rsquo;t a full fledged product by any means, here&rsquo;s a bit of how I&rsquo;ve developed this process a few times over and some of the annoying bits of code to help get you started. In this post I&rsquo;ll walk through some of the basic datatypes, then we&rsquo;ll follow-up with the overall architecture and tweaks you need to make to Salesforce, and finally we&rsquo;ll provide some example code to help you create this setup yourself.
		
		<a href="/2016/11/23/syncing-from-postgres-to-salesforce-part-1/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-11-23T00:00:00-08:00" pubdate data-updated="true"></time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2016/10/21/opendns/">
		
			Open DNS for When DNS Outages Occur</a>
	</h2>
	<div class="entry-content">
		<p>Open DNS is a DNS resolver that caches records beyond their TTL if the upstream DNS server cannot be found. In cases like today&rsquo;s major outage it can be handy to swap your DNS settings out for this, or it may be worth using as a standard default. Resolution may be a bit slow as it will try to see if the upstream server cannot be found, but it at least can get you back to a working state.</p>

<p>If you know what you&rsquo;re doing then all you need to do is configure your DNS settings to: <code>208.67.220.220</code> and <code>208.67.222.222</code>.</p>

<p>If you need a little more guidance you can go into your System Preferences on Mac, select Network, then Advanced and finally the DNS tab. You should set it up to look as follows:</p>

<p><img src="https://d3vv6lp55qjaqc.cloudfront.net/items/0c2T1M251T0D3r1D2Q3x/Network.png?X-CloudApp-Visitor-Id=e4475d145dcf11ebcffabf840edcc11f&amp;v=cd767ce0" alt="DNS Configuration" /></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-10-21T00:00:00-07:00" pubdate data-updated="true"></time></div>
	


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2016/09/11/a-tour-of-fdws/">
		
			A Tour of Postgres&#8217; Foreign Data Wrappers</a>
	</h2>
	<div class="entry-content">
		<p>SQL can be a powerful language for reporting. Whether you&rsquo;re just exploring some data, or generating reports that show <a href="/2014/02/26/Tracking-MoM-growth-in-SQL/">month over month revenue growth</a> it&rsquo;s the <a href="https://www.amazon.com/SQL-Relational-Theory-Write-Accurate/dp/1491941170/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1473612603&amp;sr=1-1&amp;keywords=sql+relational&amp;tag=mypred-20">lingua franca</a> for data analysis. But, your data isn&rsquo;t always in a SQL database, even then if you&rsquo;re using Postgres you can still likely use SQL to analyze, query, even joing with that data. Foreign data wrappers have been around for years in Postgres, but are continuing to mature and be a great option for joining disparate systems.</p>

<h3>Overview of foreign data wrappers</h3>

<p>If you&rsquo;re unfamiliar, foreign data wrappers, or FDW, allow you to connect from within Postgres to a remote system. Then you can query them from directly within Postgres. While there is an official Postgres FDW that ships with Postgres itself, that allows you to connect from one Postgres DB to another, there&rsquo;s also a broad community of others.</p>

<p>At the core of it Postgres provides certain APIs under the covers which each FDW extension can implement. This can include the ability to map SQL to whatever makes sense for a given system, push down various operators like where clauses, and as of Postgres 9.3 can even write data. 
		
		<a href="/2016/09/11/a-tour-of-fdws/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-09-11T00:00:00-07:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgres/'>Postgres</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2016/06/07/five-mistakes-databases/">
		
			Five Mistakes Beginners Make When Working With Databases</a>
	</h2>
	<div class="entry-content">
		<p>When you start out as a developer there&rsquo;s an overwhelming amount of things to grasp. First there&rsquo;s the language itself, then all the quirks of the specific framework you&rsquo;re using,and after that (or maybe before) we&rsquo;ll throw front-end development into the mix, and somewhere along the line you have to decide to store your data somewhere.</p>

<p>Early on, with so many things to quickly master, the database tends to be an after-though in application design (perhaps because it doesn&rsquo;t make an impact to end user experience). As a result there&rsquo;s a number of bad practices that tend to get picked up when working with databases, here&rsquo;s a rundown of just a few.</p>


		
		<a href="/2016/06/07/five-mistakes-databases/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-06-07T00:00:00-07:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgres/'>Postgres</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2016/02/28/Hands-on-postgres-sharding/">
		
			Hands on Postgres Sharding</a>
	</h2>
	<div class="entry-content">
		<p><em><strong>Notice</strong>: Much of this post still applies, but now applies more directly to <a href="https://www.citusdata.com">Citus</a>. Since this post originally published, pg_shard is now deprecated. Citus now has an open source version which offer a superset of the features of pg_shard, as well as a <a href="https://www.citusdata.com/products/cloud">cloud</a> offering. Finally you can find some further guidance for sharding on the <a href="https://www.citusdata.com/blog/">Citus blog</a> and <a href="http://docs.citusdata.com">docs</a></em></p>

<p>Back in 2012 I wrote an overview of database sharding. Since then I&rsquo;ve had a few questions about it, which have really increased in frequency over the last two months. As a result I thought I&rsquo;d do a deeper dive with some actual hands on for sharding. Though for this hands on, because I do value my time I&rsquo;m going to take advantage of <code>pg_shard</code> rather than creating mechanisms from scratch.</p>

<p>For those unfamiliar <a href="https://github.com/citusdata/pg_shard/">pg_shard</a> is an open source extension from <a href="http://citusdata.com">Citus data</a> who has a commerical product that you can think of is pg_shard++ (and probably much more). Pg_shard adds a little extra to let data automatically distribute to other Postgres tables (logical shards) and Postgres databases/instances (physical shards) thus letting you outgrow a single Postgres node pretty simply.</p>

<p>Alright, enough talk about it, let&rsquo;s get things up and running.</p>


		
		<a href="/2016/02/28/Hands-on-postgres-sharding/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-02-28T00:00:00-08:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/postgres/'>Postgres</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2016/01/28/On-being-a-PM-software-is-easy-people-are-hard/">
		
			What Being a PM Is Really Like - Software Is Easy, People Are Hard</a>
	</h2>
	<div class="entry-content">
		<p>In recent months I&rsquo;ve had the question nearly once a week about advice/tips for becoming a Product Manager or more commonly referred to as PM. These are generally coming from people that are either currently engineers, or previously were and are in some engineer/customer role such as a sales engineer or solution architect. There&rsquo;s a number of <a href="http://www.amazon.com/Inspired-Create-Products-Customers-Love/dp/0981690408?tag=mypred-20">high level</a> pieces talking about PM and it often feels glorious, I mean you get to make product decisions right? You get to call some shots. Well that sometimes may be true, but don&rsquo;t assume it&rsquo;s all rainbows and sparkles.</p>

<p>Especially as a first time PM what your day to day will look like won&rsquo;t be debating strategy all day long. Here&rsquo;s a few of the good and the bad sides of being a PM.</p>


		
		<a href="/2016/01/28/On-being-a-PM-software-is-easy-people-are-hard/" class="more-link">Read on </a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2016-01-28T00:00:00-08:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/categories/product-management/'>Product Management</a>, <a class='category' href='/categories/startups/'>Startups</a>

</div>


	
</div></article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2017

    Craig Kerstiens

</footer>
	<script src="/javascripts/slash.js"></script>
<!--<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>  Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'craigkerstiens';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
		_gaq.push(['_require', 'inpage_linkid', pluginUrl]);
		_gaq.push(['_setAccount', 'UA-4670852-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
